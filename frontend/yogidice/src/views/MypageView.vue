<template>
    <div class="mypage-container">
        <!-- í—¤ë”ìˆëŠ”ê³³ -->
        <div>
            <grey-bg-head-bar></grey-bg-head-bar>
        </div>
        <!-- í—¤ë”ìˆëŠ”ê³³ -->


        <!-- ë¦¬ë·°ë°›ëŠ” ëª¨ë‹¬í¼ -->
        <div class="my-review-bg" v-if="reviewmodalview">
            <review-modal 
            @CloseReviewModal="CloseReviewModal"
            ></review-modal>
        </div>
        <!-- ë¦¬ë·°ë°›ëŠ” ëª¨ë‹¬í¼ -->


        <!-- íšŒì›ì •ë³´ ë‚˜ì˜¤ëŠ”ê³³ -->
        <div class="profile-container-outer">
            <div class="profile-container">
                <p class="profile-inner" style="font-size : 35px">
                    <span @click="myPageBtn('main')">ì•„ê¸°ê³µë£¡ë‘˜ì§¸</span>
                </p>
                <span>ğŸ’Œ</span><span class="profile-email">8x15yz@gmail.com</span>
            </div>
        </div>
        <!-- íšŒì›ì •ë³´ ë‚˜ì˜¤ëŠ”ê³³ -->


        <!-- ë§ˆì´í˜ì´ì§€ ì„¸ë¶€í˜ì´ì§€ ë²„íŠ¼-->
        <div class="mypage-link-btn-outer">
            <div class="mypage-link-btn-wrapper">
                <div class="mypage-link-btn-inner border-rad-left" @click="myPageBtn('play')">
                    <div>
                        <div><i class="fas fa-chess"></i></div>
                        <div class="displayFlex">
                            <p class="mp-btn-p">í”Œë ˆì´</p>
                            <p class="mp-btn-p" style="color: var(--color-mint); margin-left: 3px;"> 23</p>
                        </div>
                    </div>
                </div>
                <div class="mypage-link-btn-inner" @click="myPageBtn('review')">
                    <div>
                        <div><i class="fas fa-pencil-alt"></i></div>
                        <div class="displayFlex">
                            <p class="mp-btn-p">ë¦¬ë·°</p>
                            <p class="mp-btn-p" style="color: var(--color-mint); margin-left: 3px;"> 12</p>
                        </div>
                    </div>
                </div>
                <div class="mypage-link-btn-inner border-rad-right" @click="myPageBtn('bookmark')">
                    <div>
                        <div><i class="fas fa-bookmark"></i></div>
                        <div class="displayFlex">
                            <p class="mp-btn-p">ë¶ë§ˆí¬</p>
                            <p class="mp-btn-p" style="color: var(--color-mint); margin-left: 3px;"> 40</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- ë§ˆì´í˜ì´ì§€ ì„¸ë¶€í˜ì´ì§€ ë²„íŠ¼-->


        <!-- ì•ˆë‚´ë¬¸ ë³´ì—¬ì£¼ëŠ”ê³³ -->
        <div>
            <div class="mypage-boardgame-style">
                
                <!-- mainview : ë³´ë“œê²Œì„ ì„±í–¥ ì•Œë ¤ì£¼ëŠ”ê³³ -->
                <div v-if="mainview">
                    <div class="mp-bg-s-inner">
                        <span>ì•„ê¸°ê³µë£¡ë‘˜ì§¸</span><span>ë‹˜ì€</span>
                    </div>
                    <div class="mp-bg-s-inner">
                        <span id="mypage-cate-result">ê²½ì œ</span><span id="mypage-cate-result">ë§ˆë‹ˆì•„</span><span> ì…ë‹ˆë‹¤</span><span>â“</span>
                    </div>
                </div>
                <!-- mainview : ë³´ë“œê²Œì„ ì„±í–¥ ì•Œë ¤ì£¼ëŠ”ê³³ -->


                <!-- play : í”Œë ˆì´í•œ ë³´ë“œê²Œì„ ì•Œë ¤ì£¼ëŠ”ê³³-->
                <div v-if="playview">
                    <div class="mp-bg-s-inner">
                        <span>ë‚´ê°€ í”Œë ˆì´í•œ ê²Œì„</span><span>(23)</span>
                    </div>
                </div>
                <!-- play : í”Œë ˆì´í•œ ë³´ë“œê²Œì„ ì•Œë ¤ì£¼ëŠ”ê³³-->

                <!-- play : ë¶ë§ˆí¬í•œ ë³´ë“œê²Œì„ ì•Œë ¤ì£¼ëŠ”ê³³-->
                <div v-if="bookmarkview">
                    <div class="mp-bg-s-inner">
                        <span>ë‚´ê°€ ë¶ë§ˆí¬í•œ ê²Œì„</span><span>(12)</span>
                    </div>
                </div>
                <!-- play : ë¶ë§ˆí¬í•œ ë³´ë“œê²Œì„ ì•Œë ¤ì£¼ëŠ”ê³³-->


                <!-- reviewview : ë¦¬ë·°í•œ ë³´ë“œê²Œì„ ë³´ì—¬ì£¼ëŠ”ê³³ -->
                <div v-if="reviewview">
                    <div class="mp-bg-s-inner">
                        <span>ë‚´ê°€ ë‚¨ê¸´ ë¦¬ë·°</span><span>(40)</span>
                    </div>
                </div>
                <!-- reviewview : ë¦¬ë·°í•œ ë³´ë“œê²Œì„ ë³´ì—¬ì£¼ëŠ”ê³³ -->

            </div>
        </div>
        <!-- ì•ˆë‚´ë¬¸ ë³´ì—¬ì£¼ëŠ”ê³³ -->


        <!-- ì›Œë“œí´ë¼ìš°ë“œ / í”Œë ˆì´ / ë¦¬ë·° / ë¶ë§ˆí¬ ìƒì„¸ ë“¤ì–´ê°ˆ ê³³ -->
        <div class="mypage-bottom-container">
            <word-cloud v-if="mainview"></word-cloud>
            <mypage-play 
            :userplaygames="userplaygames" 
            v-if="playview"
            class="play-components-overflow"
            @OpenReviewModal="OpenReviewModal"
            ></mypage-play>
            <div>
                <mypage-bookmark v-if="bookmarkview"></mypage-bookmark>
            </div>
            <div>
                <mypage-review 
                v-if="reviewview"
                @OpenReviewModal="OpenReviewModal"
                ></mypage-review>
            </div>
            <div v-if="bookmarkview" class="cardlist-my">
                <my-page-bookmark></my-page-bookmark>
            </div>
        </div>
        <!-- ì›Œë“œí´ë¼ìš°ë“œ / í”Œë ˆì´ / ë¦¬ë·° / ë¶ë§ˆí¬ ìƒì„¸ ë“¤ì–´ê°ˆ ê³³ -->
    </div>
</template>

<script>
import { ref } from 'vue'
import WordCloud from '../components/WordCloud.vue';
import MypageReview from '../components/MypageReview.vue';
import MypageBookmark from '../components/MypageBookmark.vue';
import MypagePlay from '../components/MypagePlay.vue';
import GreyBgHeadBar from '@/layouts/GreyBgHeadBar.vue';
import ReviewModal from '@/components/modal/ReviewModal.vue';


export default {
    components: {
    WordCloud,
    MypageReview,
    MypageBookmark,
    MypagePlay,
    GreyBgHeadBar,
    ReviewModal
  },
  
  setup() {
        const mainview = ref(true);
        const playview = ref(false);
        const reviewview = ref(false);
        const bookmarkview = ref(false);
        const reviewmodalview = ref(false)
        
        const userplaygames = [{'key': 1, 'title_kr': 'ì“°ë£¨ ë”” ì—ì´ì§€ìŠ¤: ë¬¸ëª…ì— ê´€í•œ ìƒˆë¡œìš´ ì´ì•¼ê¸°', 'thumburl': 'wys2/swf_upload/2022/02/24/1645643684643042_lg.jpg','rating': 4.5,
            'maxPlayers': 4,'minPlayers': 2,'playTimes' : 180, 'playLevel' : "ë§¤ìš° ì–´ë ¤ì›€"}, {'key': 2, 'title_kr': 'ê°€ì´ì•„ í”„ë¡œì íŠ¸', 'thumburl': 'data/boardgame_strategy/2021/03/09/1615274670-490381.jpg','rating': 4.5,'maxPlayers': 4,'minPlayers': 2,'playTimes' : 180,'playLevel' : "ë§¤ìš° ì–´ë ¤ì›€"}, {'key': 3, 'title_kr': 'í™©í˜¼ì˜ íˆ¬ìŸ', 'thumburl': 'data/boardgame_strategy/2021/02/03/1612344501-765004.jpg','rating': 4.5,'maxPlayers': 4,'minPlayers': 2,'playTimes' : 180,'playLevel' : "ë§¤ìš° ì–´ë ¤ì›€"}, {'key': 4, 'title_kr': 'í‘¸ì—ë¥´í†  ë¦¬ì½”', 'thumburl': 'data/boardgame_strategy/2021/12/24/1640328882-556458.jpg'}
            , {'key': 5, 'title_kr': 'íŒ¬ë°ë¯¹ ë ˆê±°ì‹œ: ì‹œì¦Œ 1', 'thumburl': 'data/boardgame_strategy/2020/04/02/1585818479-857227.png'},
            {'key': 6, 'title_kr': 'ì™¸ë¡œìš´ ë‘˜ë¦¬ëŠ”ê·€ì—¬ìš´ ì•„ê¸°ê³µë£¡', 'thumburl': 'data/boardgame_strategy/2020/04/02/1585818479-857227.png'}]
            // ë°›ì€ ê²€ìƒ‰ê²°ê³¼ë¡œ í•„í„°ë§
        // const userplaygames = []

        const myPageBtn = function(option) { // eslint-disable-line no-unused-vars
            if (option == 'play') {
                playview.value = true
                mainview.value = false
                reviewview.value = false
                bookmarkview.value = false
            }
            else if (option == 'review') {
                playview.value = false
                mainview.value = false
                reviewview.value = true
                bookmarkview.value = false
            }
            else if (option == 'bookmark') {
                playview.value = false
                mainview.value = false
                reviewview.value = false
                bookmarkview.value = true
            }
            else if (option == 'main') {
                playview.value = false
                mainview.value = true
                reviewview.value = false
                bookmarkview.value = false
            }
        
        }
        const CloseReviewModal = function() { 
            reviewmodalview.value = false
        }
        const OpenReviewModal = function() { 
            reviewmodalview.value = true
        }
        return {
            myPageBtn,
            mainview, 
            playview,
            reviewview,
            bookmarkview,
            userplaygames,
            reviewmodalview,
            CloseReviewModal,
            OpenReviewModal
        }
    }
  }

</script>

<style>
.my-review-bg {
    position: absolute;
    width: 100vw;
    height: 100vh;
    background-color: var(--color-bg-modal);
    display: flex;
    justify-content: center;

}
.play-components-overflow {
    overflow: auto;
    height: 50vh;
    width: 95vw;
}
.play-components-overflow::-webkit-scrollbar{width: 0px;}
.mypage-blank {
    height:70px;
}
.mypage-container {
    height: 100vh;
}
.displayFlex {
    display: flex;
}
.profile-container-outer {
    display: flex;
    justify-content: center;
}
.profile-container {
    text-align: end;
    padding: 20px;
    padding-bottom: 10px;
    width: 100vw;
    /* background-color: pink; */
    height: 15vw;
}
.profile-container > p {
    padding: 0px;
    margin: 0px;
    text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.3);
}
.profile-container > span {
    padding: 3px;
}
.mypage-link-btn-outer {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 150px;
    width: 100%;
    /* background-color: yellow; */
}
.mypage-link-btn-wrapper {
    display: flex;
    justify-content: space-evenly;
    /* background-color: skyblue; */
    background-color: white;
    outline: 1px black solid;
    border-radius: 4px;
    height: 25vw;
    width: 75vw;
    box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);

}
.mypage-link-btn-inner {
    display: flex;
    justify-content: center;
    align-items: center;
    outline: 0.5px black solid;
    width: 100%;
}
.mypage-link-btn-inner > div {
    text-align: center;
}
.mypage-link-btn-inner > div > div {
    margin-top: 10px;
    margin-bottom: 10px;
}
.border-rad-left {
    border-top-left-radius: 4px;
    border-bottom-left-radius:4px;
}
.border-rad-right {
    border-top-right-radius: 4px;
    border-bottom-right-radius:4px;
}
.mp-btn-p {
    margin: 0px;
}

.mypage-boardgame-style {
    display: flex;
    justify-content: center;
    height: 20vw;
    /* background-color: pink; */
    align-items: center;
}
.mypage-boardgame-style > div {
    text-align: center;
}
.mp-bg-s-inner{
    margin: 10px;
}
.mp-bg-s-inner > span {
    font-size: 20px;
}
#mypage-cate-result {
    font-size: 30px;
    font-weight: bolder;
    color: rgb(51, 162, 206);
}

.mypage-bottom-container {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: rgba(255, 255, 255, 0.493);
    height: 50vh;
    overflow: hidden;
    /* background-color: brown; */
}
</style>


